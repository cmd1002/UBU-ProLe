options {
    BUILD_TOKEN_MANAGER=true;
    DEBUG_TOKEN_MANAGER=false;
}

PARSER_BEGIN(Compiler)

public class Compiler {
    public static void main(String args[]) throws java.io.FileNotFoundException {
        final CompilerTokenManager tokenManager = initTokenManager(args);

        try {
            while (tokenManager.getNextToken().kind != EOF); // Process All tokens.
            System.out.println("Finished");
        } catch (TokenMgrError ex) {
            System.out.println("Token Manager caught an unexpected exception, exiting...");
            throw ex;
        }
    }

    static CompilerTokenManager initTokenManager(String args[]) throws java.io.FileNotFoundException {
        final SimpleCharStream charStream;
        if (args.length < 1) {
            charStream = new SimpleCharStream(System.in);
        } else {
            charStream = new SimpleCharStream(new java.io.FileInputStream(args[0]),0,0);
        }
        return new CompilerTokenManager(charStream);
    }
}
PARSER_END(Compiler)

TOKEN_MGR_DECLS : {}

/* ALL */
<*>TOKEN : {
    <"\n">
}
<*>SKIP : {
    <~[]>
}